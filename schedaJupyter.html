<html>

<head>

	<link rel="stylesheet" href="https://pyscript.net/releases/2025.7.2/core.css" />
	<script type="module" src="https://pyscript.net/releases/2025.7.2/core.js" ></script>

	<link rel="stylesheet" href="styleGeoInf.css">

	<style>

		.justify {
			text-align: justify;
			text-align-last: left;
			/*text-justify: inter-word;*/

		}

		#txt_code {

			font-family: "Trebuchet MS";
			/* font-size: 2vh; */ /* (già dichiarato) */
			/* font-weight: bold; */

			color: black;  
			background-color: #efefef;
			resize: none;
  		}

		#txt_output {

			font-family: "Trebuchet MS";
			/* font-size: 2vh; */ /* (già dichiarato) */

			width: 100%; 
			height: 35vh; 
			resize: none;
		}

	</style>

</head>

<body style = "overflow-y: scroll">

	<py-config>
    	packages = [ "numpy" ]

	</py-config>

	Kernel PYODIDE Jupyter Notebook - Librerie disponibili: numpy, pandas, sqlite3 -- Librerie da installare (%pip install): folium, ipywidgets, geopandas 
	<br>
	Anteprima Jupyter Notebook disponibile tramite i servizi <a href="https://nbviewer.org/">Nbviewer</a>, <a href="https://mybinder.org/">Binder</a> <!-- permalink GitHub -->
	<br>
	<br>
	POSSIBILE impiego di: 
	<br>
	- Python in the browser, <a href="https://pyscript.net/">PyScript</a>; 
	<br>
	- Embed a live REPL on a WebSite, <a href="https://jupyterlite.readthedocs.io/en/latest/quickstart/embed-repl.html">REPL / Read–Eval–Print Loop</a>.
	<br>
	- Esecuzione dei seguenti comandi: jupyter lite build --contents content/ , jupyter lite serve , http://localhost:8000/lab/index.html?path=nb.ipynb (aggiunta di "exposeAppInBrowser": true in "jupyter-config-data" / jupyter-lite.json (jupyterapp.commands.execute('notebook:run-all-cells')))
	<br>
	- Link di riferimento: <a href="https://discourse.jupyter.org/t/how-to-establish-communication-with-parent-window-and-jupyterlite-instance-running-in-an-iframe/26945">Communication with Parent Window - Jupyter Community Forum</a>, <a href="https://github.com/jupyterlite">JupyterLite GitHub</a>
	<br>
	<b>
	*** ATTENZIONE ***: il Notebook Jupyter ed eventuali altri elementi ad esso associato appartengono ai rispettivi proprietari. 
	</b>
	<br>
	<br>

	<div id="tabellaJupyter" class="grid">

		<script>

			//const params = { kernel: "python" }; // , param2: value2 };
			//const options = { method: 'POST', body: JSON.stringify( params ) };
			//fetch( 'https://jupyterlite.github.io/demo/repl/index.html', options )
			
			//fetch( 'https://jupyterlite.github.io/demo/repl/index.html?kernel=python' )

			/*
			.then(response => {
				console.log(response);
				if (response.ok){
					return response.text();
				}
			})
			.then(text => {
				document.getElementById('targetIframe02').srcdoc = text;  
			});
			*/

			//%2B uguale a +

			// --------------------------------------------------------------------------------------------------- //

			//matplotlib.set_loglevel( 'critical' )
			//iframe referrerpolicy = ... scrolling="no" 
			//per '+' usa %2B
			//per indentazione usa n.4 spazi '    '

		</script>

		<div id="bloccoJupyter00" class="span4 roundBorder" > <!-- style="width: 98%; height: 82vh;" -->
			Alcuni riferimenti / esempi: 
			<ul style="list-style-type:square;">
				<li>Iframe Jupyter Notebook per i linguaggi Python, C / C++, R <a href="https://jupyter.org/try-jupyter/lab/">Notebook (01)</a> </li>
				<li>Iframe Jupyter Notebook per il linguaggio Javascript (Libreria p5.js) <a href="https://jupyterlite.github.io/demo">Notebook (02)</a> </li>
				<li>Esempio <a href= "./Jupyter_Py/REPL/iframeJupyterREPL01.html" >REPL (01)</a> </li>
				<li>Esempio <a href= "./Jupyter_Py/REPL/iframeJupyterREPL02.html" >REPL (02)</a> </li>
				
			</ul>

		</div>

		<div id="bloccoJupyter01" class="span4 roundBorder" >

			<h2>• Hello World</h2> 
			<div>
				<p class="justify" >Classico Hello Word iniziale con alert e messaggio in Console relativo: <button id="btn_helloWorld" onclick="alert( 'Hello World in Console ...' ); " >Hello World</button></p> <!-- style="width: 10%; " -->
			</div>

			<py-script>
				from js import document 
				from pyodide.ffi import create_proxy

				import js
				#js.window.alert("Fase di loading completata ... ")

				def printHW( event ):
					print("Hello World!")

				function_proxy01 = create_proxy(printHW)
				document.getElementById("btn_helloWorld").addEventListener("click", function_proxy01)

			</py-script>

		</div>

		<div id="bloccoJupyter02" class="span4 roundBorder" >

			<h2>• Static Web Site JupyterLite (Jupyter Notebook)</h2>
			<button type="button" onclick="ricaricaNotebook01()" >Ricarica il Notebook</button>

			<iframe id="iframeNotebook01" src="./Jupyter_Py/outputStaticJupyter/lab/index.html?path=nb.ipynb" style="width: 100%; height: 60vh; "></iframe>

			<script>
				async function ricaricaNotebook01() {
					await document.getElementById( "iframeNotebook01" ).contentWindow.jupyterapp.commands.execute('notebook:run-all-cells'); 
				}

			</script>

			<!--
			<p>Scrivi Codice Python ed eseguilo tramite <a href="https://pyscript.net/">PyScript</a>, ovvero</p>
			<textarea id="txt_code" style="height: 63vh; width:100%" ></textarea>

			<button id="btn_executePy" >Esegui il Codice Python</button>
			<button id="btn_clearPy" >Elimina le variabili create</button>
			<br>
			<br>
			<p>Mostra le variabili dichiarate o stampa a video i relativi valori all'interno della Console ... </p>
			<textarea id="txt_output" ></textarea>

			<script>
				tempStr = `#(Python Code)
import math as m 
import numpy as np
def foo():
	global m
	z = m.sqrt( 4 )
	return z 

z = foo()
a = m.cos( 1 )
b = 22
c = b ** 2
arr = np.array([1, 2, 3]) ** 2
print( 'Console: ' + str( arr ) )
for n in range( 0 , 3 ):
	print( 'Hello in Console n.' + str( n ) )

class Quadrato:
	def __init__(self, lato):
		self.lato = lato
	
	def area( self ):
		return( self.lato * self.lato )

q1 = Quadrato( 5 )
lato = q1.lato
area = q1.area()
print( "Quadrato di lato " + str(lato) + " ed area " + str(area) )`

				document.getElementById("txt_code").innerHTML = tempStr.replace( /\t{5}/g , "" );
				document.getElementById("txt_output").innerHTML = "Attendi ... ";
				document.getElementById("txt_output").readOnly = true;

				document.getElementById('txt_code').addEventListener('keydown', function(e) {
					if (e.key == 'Tab') {
						e.preventDefault();
						var start = this.selectionStart;
						var end = this.selectionEnd;

						// set textarea value to: text before caret + tab + text after caret
						this.value = this.value.substring(0, start) +
						"\t" + this.value.substring(end);

						// put caret at right position again
						this.selectionStart =
						this.selectionEnd = start + 1;
					}
				});

			</script> 

			<py-script>

				import js

				from js import console, document, window
				from pyodide.ffi.wrappers import add_event_listener

				import sys

				elencoVar = {} #dictionary

				output = document.getElementById("txt_output")

				def runPython( *args ):
					try: 
						code = document.getElementById("txt_code").value
						output.innerHTML = "Show global variables / objects: \n"
						exec( code , globals(), elencoVar)
						for item in elencoVar.items():
							output.innerHTML = output.innerHTML + str( item ) + "\n" #elencoVar.items()

					except Exception as e:
						output.innerHTML = f"Error detected: {str(e)}"

				def clearPython( *args ):
					try:
						#print( sys.modules[__name__].__dict__ )
						sys.modules[__name__].__dict__[ "elencoVar" ].clear()
						output.innerHTML = "Show global variables / objects: \n"

					except Exception as e:
						output.innerHTML = f"Error detected: {str(e)}"

				add_event_listener( document.getElementById("btn_executePy") , "click", runPython)

				add_event_listener( document.getElementById("btn_clearPy") , "click", clearPython)

				#print( window.sessionStorage.getItem( "superatoPrimoAvvio" ) )

				#Test iniziale all'apertura della Pagina Web
				if( window.sessionStorage.getItem( "superatoPrimoAvvio" ) is None ):
					document.getElementById("btn_executePy").click()
					window.sessionStorage.setItem( "superatoPrimoAvvio" , 1 )  
				else:  
					output.innerHTML = "-- (utilizza 'Esegui il Codice Python')"

				window.parent.document.getElementById("barLoading").style.width = "55%"; 
				window.parent.document.getElementById("barLoading").innerHTML = "Loading ... 55%"; 

			</py-script>

			<script>
				//
			</script>

		</div>
	-->

		<div id="bloccoJupyter03" class="span4 roundBorder" >
			Esempi di codice:
			<br>
			(in costruzione)
			<br>

		</div>
	
	</div>

</body>


</html>

