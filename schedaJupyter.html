<html>

<head>

	<link rel="stylesheet" href="https://pyscript.net/releases/2025.7.2/core.css" />
	<script type="module" src="https://pyscript.net/releases/2025.7.2/core.js" ></script>

	<link rel="stylesheet" href="styleGeoInf.css">

	<style>

		.justify {
			text-align: justify;
			text-align-last: left;
			/*text-justify: inter-word;*/

		}

		#txt_code {

			/* font-family: "Cascadia Code"; */
			/* font-size: 2vh; */
			/* font-weight: bold; */

			width: 100%; 
			height: 45vh; 
			color: black;  
			background-color: #efefef;
			resize: none;
  		}

		#txt_output {
			width: 100%; 
			height: 35vh; 
			resize: none;
		}

	</style>

</head>

<body style = "overflow-y: scroll">

	<py-config>
    	packages = [ "numpy" ]

	</py-config>

	Iframe Jupyter Notebook per i linguaggi Python, C / C++, R, Javascript (Libreria p5.js)
	<br>
	Anteprima Jupyter Notebook disponibile tramite i servizi <a href="https://nbviewer.org/">Nbviewer</a>, <a href="https://mybinder.org/">Binder</a> <!-- permalink GitHub -->
	<br>
	Kernel PYODIDE Jupyter Notebook - Librerie disponibili: numpy, pandas, sqlite3 -- Librerie da installare (%pip install): folium, ipywidgets 
	<br>
	<br>
	<b>
	*** ATTENZIONE ***: il Notebook Jupyter ed eventuali altri elementi ad essi associati appartengono ai rispettivi proprietari. 
	</b>
	<br>
	<br>

	<script>
		function openIframe( tabNumber ) {
			for( var i = 0; i < 6; i++ ) {
				var tempValue = ( ""+ i).padStart(2,  "0"); 
				if( tabNumber == tempValue ) {
					document.getElementById( "tabIframe" + tempValue ).style.display = "block";
					document.getElementById( "tabIframe" + tempValue ).style.visibility = "visible";  
				} else {
					document.getElementById( "tabIframe" + tempValue ).style.display = "none";
					document.getElementById( "tabIframe" + tempValue ).style.visibility = "hidden"; 
				}
			}
		}

	</script>

	<div id="headerIframe">
		<button onclick= "openIframe( '00' )" style="background-color: transparent; font-family: 'Trebuchet MS';" >Notebook 01</button>
		<button onclick= "openIframe( '01' )" style="background-color: transparent; font-family: 'Trebuchet MS';" >Notebook 02</button>
		<button onclick= "openIframe( '02' )" style="background-color: transparent; font-family: 'Trebuchet MS';" >REPL 03</button>
		<button onclick= "openIframe( '03' )" style="background-color: transparent; font-family: 'Trebuchet MS';" >REPL 04</button>
		<button onclick= "openIframe( '04' )" style="background-color: transparent; font-family: 'Trebuchet MS';" >PyScript 05</button>
		<button onclick= "openIframe( '05' )" style="background-color: transparent; font-family: 'Trebuchet MS';" >Code 06</button>
	</div>

	<div id="tabIframe00" class="grid">
		<div id="bloccoIframe00_00" class="span4 roundBorder" style="width: 98%; height: 82vh;" >
			<iframe id="iframe00_00" src="" width="100%" height="100%" frameBorder="0" >
			</iframe>
			<script>
				if( window.parent.iframeAttivi.iframe00_00 == true ) {
					document.getElementById( "iframe00_00" ).src="https://jupyter.org/try-jupyter/lab/"; 
				} else {
					document.getElementById( "iframe00_00" ).src=""; 
				}
			</script>
		</div>
	</div>

	<div id="tabIframe01" class="grid">
		<div id="bloccoIframe00_01" class="span4 roundBorder" style="width: 98%; height: 82vh;" >
			<iframe id="iframe00_01" src="" width="100%" height="100%" frameBorder="0" >
			</iframe>
			<script>
				if( window.parent.iframeAttivi.iframe00_01 == true ) {
					document.getElementById( "iframe00_01" ).src="https://jupyterlite.github.io/demo"; 
				} else {
					document.getElementById( "iframe00_01" ).src=""; 
				}
			</script>
		</div>
	</div>

	<div id="tabIframe02" class="grid">
		<div id="bloccoIframe00_02" class="span4 roundBorder" style="width: 98%; height: 82vh;" >

			<iframe id="iframe00_02" src=""
				
				width="100%" height="100%" frameBorder="0" >
			</iframe>
			
			<script>
				//const params = { kernel: "python" }; // , param2: value2 };
				//const options = { method: 'POST', body: JSON.stringify( params ) };
				//fetch( 'https://jupyterlite.github.io/demo/repl/index.html', options )
				
				//fetch( 'https://jupyterlite.github.io/demo/repl/index.html?kernel=python' )

				/*
				.then(response => {
					console.log(response);
					if (response.ok){
						return response.text();
					}
				})
				.then(text => {
					document.getElementById('targetIframe02').srcdoc = text;  
				});
				*/

				//%2B uguale a +

				if( window.parent.iframeAttivi.iframe00_02 == true ) {
					document.getElementById( "iframe00_02" ).src=`https://jupyterlite.github.io/demo/repl/index.html?kernel=python&theme=JupyterLab Light
						&code=
						import matplotlib.pyplot as plt %0A
						import numpy as np
						&code=
						x = np.linspace(-10, 10, 1000) %0A
						y = x**2 %2B 2*x
						&code=
						fig, ax = plt.subplots() %0A
						ax.grid( True ) %0A
						plt.axhline(0, color='black', linewidth=1.5 ) %0A
						plt.axvline(0, color='black', linewidth=1.5 ) %0A
						ax.plot(x, y)`;
				} else {
					document.getElementById( "iframe00_02" ).src=""; 
				}
			
			</script>
		</div>
	</div>

	<div id="tabIframe03" class="grid">
		<div id="bloccoIframe00_03" class="span4 roundBorder" style="width: 98%; height: 82vh;" >
			<iframe id="iframe00_03" src=""
				
				width="100%" height="100%" frameBorder="0"
				>
			</iframe>

			<script>
				//matplotlib.set_loglevel( 'critical' )

				//iframe referrerpolicy = ... scrolling="no" 
				//per '+' usa %2B
				//per indentazione usa n.4 spazi '    '

				//document.getElementById("targetIframe03").contentWindow.body //Problem CORS Origin 

				if( window.parent.iframeAttivi.iframe00_03 == true ) {
					document.getElementById( "iframe00_03" ).src=`https://jupyterlite.github.io/demo/repl/index.html?clearCellsOnExecute=1&kernel=python&theme=JupyterLab Light
					&code=
					%pip install ipywidgets
					&code=
					import matplotlib %0A
					import matplotlib.pyplot as plt %0A
					import numpy as np %0A
					import ipywidgets as widgets
					&code=
					def sinplot( W = 1 ): %0A
					    x = np.linspace(0, 2*np.pi, 1000) ; y = 0.6 * np.sin( W * x) ; fig, ax = plt.subplots( ) ; ax.grid( True ) %0A
					    plt.axhline(0, color='black', linewidth=1.5 ) ; plt.axvline(0, color='black', linewidth=1.5 ) ; ax.plot(x, y, color = 'green' ) %0A
					    %0A
					slider = widgets.interact( sinplot, W=(0, 10, 1))
					`;
				} else {
					document.getElementById( "iframe00_03" ).src=""; 
				}

			</script>

		</div>
	</div>

	<div id="tabIframe04" class="grid">
		<div id="bloccoPyScript00_04" class="span4 roundBorder" > <!-- style="width: 98%; height: 82vh;" --> <!-- span1 -->

			<h2>• Hello World</h2> 
			<div>
				<p class="justify" >Classico Hello Word iniziale con alert e messaggio in Console relativo: <button id="btn_helloWorld" onclick="alert( 'Hello World in Console ...' ); " >Hello World</button></p> <!-- style="width: 10%; " -->
			</div>

			<py-script>
				from js import document 
				from pyodide.ffi import create_proxy

				import js
				#js.window.alert("Fase di loading completata ... ")

				def printHW( event ):
					print("Hello World!")

				function_proxy01 = create_proxy(printHW)
				document.getElementById("btn_helloWorld").addEventListener("click", function_proxy01)

			</py-script>

		</div>

		<div id="bloccoPyScript01_04" class = "span4 roundBorder" > 

			<h2>• PyScript Terminal</h2>

			<p>Scrivi Codice Python ed eseguilo tramite <a href="https://pyscript.net/">PyScript</a>, ovvero</p>
			<textarea id="txt_code" style="height: 63vh; width:100%" ></textarea>

			<button id="btn_executePy" >Esegui il Codice Python</button>
			<button id="btn_clearPy" >Elimina le variabili create</button>
			<br>
			<br>
			<p>Mostra le variabili dichiarate o stampa a video i relativi valori all'interno della Console ... </p>
			<textarea id="txt_output" ></textarea>

			<script>
				tempStr = `#(Python Code)
import math as m 
import numpy as np
def foo():
    global m
    z = m.sqrt( 4 )
    return z 

z = foo()
a = m.cos( 1 )
b = 22
c = b ** 2
arr = np.array([1, 2, 3]) ** 2
print( 'Console: ' + str( arr ) )
for n in range( 0 , 3 ):
    print( 'Hello in Console n.' + str( n ) )

class Quadrato:
    def __init__(self, lato):
        self.lato = lato
	
    def area( self ):
        return( self.lato * self.lato )

q1 = Quadrato( 5 )
lato = q1.lato
area = q1.area()
print( "Quadrato di lato " + str(lato) + " ed area " + str(area) )`

				document.getElementById("txt_code").innerHTML = tempStr.replace( /\t{5}/g , "" );
				document.getElementById("txt_output").innerHTML = "Attendi ... ";
				document.getElementById("txt_output").readOnly = true;

				document.getElementById('txt_code').addEventListener('keydown', function(e) {
					if (e.key == 'Tab') {
						e.preventDefault();
						var start = this.selectionStart;
						var end = this.selectionEnd;

						// set textarea value to: text before caret + tab + text after caret
						this.value = this.value.substring(0, start) +
						"\t" + this.value.substring(end);

						// put caret at right position again
						this.selectionStart =
						this.selectionEnd = start + 1;
					}
				});

			</script> 

			<py-script>

				import js

				from js import console, document, window
				from pyodide.ffi.wrappers import add_event_listener

				import sys

				elencoVar = {} #dictionary

				output = document.getElementById("txt_output")

				def runPython( *args ):
					try: 
						code = document.getElementById("txt_code").value
						output.innerHTML = "Show global variables / objects: \n"
						exec( code , globals(), elencoVar)
						for item in elencoVar.items():
							output.innerHTML = output.innerHTML + str( item ) + "\n" #elencoVar.items()

					except Exception as e:
						output.innerHTML = f"Error detected: {str(e)}"

				def clearPython( *args ):
					try:
						#print( sys.modules[__name__].__dict__ )
						sys.modules[__name__].__dict__[ "elencoVar" ].clear()
						output.innerHTML = "Show global variables / objects: \n"

					except Exception as e:
						output.innerHTML = f"Error detected: {str(e)}"

				add_event_listener( document.getElementById("btn_executePy") , "click", runPython)

				add_event_listener( document.getElementById("btn_clearPy") , "click", clearPython)

				#print( window.sessionStorage.getItem( "superatoPrimoAvvio" ) )

				#Test iniziale all'apertura della Pagina Web
				if( window.sessionStorage.getItem( "superatoPrimoAvvio" ) is None ):
					document.getElementById("btn_executePy").click()
					window.sessionStorage.setItem( "superatoPrimoAvvio" , 1 )  
				else:  
					output.innerHTML = "-- (utilizza 'Esegui il Codice Python')"

				window.parent.document.getElementById("barLoading").style.width = "55%"; 
				window.parent.document.getElementById("barLoading").innerHTML = "Loading ... 55%"; 

			</py-script>

			<script>
				//
			</script>

		</div>

	</div>

	<div id="tabIframe05" class="grid">
		<div id="bloccoIframe00_05" class="span4 roundBorder" style="width: 98%; height: 82vh;" >
			Esempi di codice:
			<br>
		</div>
	</div>

	<script>
		//Primo avvio 
		openIframe( "00" );  

		//

	</script>

</body>


</html>

